@{
    ViewBag.Title = "Home Page";
}

@model TestStationStatus.Models.HomeViewModel

@section styles
{
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/Home.css")">
}

@section scripts{
    <script src="~/Scripts/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="~/Scripts/bootstrap.js"></script>
    <script src="~/Scripts/jquery.signalR-2.2.1.js"></script>
    <script src="~/signalr/hubs"></script>

    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">
        var monitor;

        $(function () {
            $.connection.hub.logging = true;

            monitor = $.connection.monitorHub;
            monitor.client.Updated = Updated;

            $.connection.hub.start(); // Use parameter for debugging only { transport: 'longPolling' }
        });

        function Updated(messagea, currentScripta, messageb, currentScriptb,
            messagea2, currentScripta2, messageb2, currentScriptb2) {
            $('#statusA').text(messagea);
            $('#currentScriptA').text(currentScripta);
            $('#statusB').text(messageb);
            $('#currentScriptB').text(currentScriptb);

            $('#statusA2').text(messagea2);
            $('#currentScriptA2').text(currentScripta2);
            $('#statusB2').text(messageb2);
            $('#currentScriptB2').text(currentScriptb2);
        };
    </script>
}



<div>
    <img class="image-header" src="~/Content/Images/maxresdefault.jpg" />

    <div class="row">
        <div class="col-md-4 image-Status">
            <h2>Status Page @Environment.MachineName</h2>
            <p> </p>
            <p>Hold CTRL to open in a new tab</p>
            <p><a class="btn btn-status" href="@Url.Action("Index", "Status")?id=0">Status Page 418 A</a></p>
            <p><a class="btn btn-status" href="@Url.Action("Index", "Status")?id=1">Status Page 418 B</a></p>
            <p><a class="btn btn-status" href="@Url.Action("Index", "Status")?id=2">Status Page 419 A</a></p>
            <p><a class="btn btn-status" href="@Url.Action("Index", "Status")?id=3">Status Page 419 B</a></p>
            <p> </p>
            <p><a href="http://ausydvs25:8181/project.html?projectId=Embedded_E420_AutoTest&tab=projectOverview">Team City Results Data</a></p>

            <p><a href="https://landisgyr.atlassian.net/secure/RapidBoard.jspa?rapidView=39&projectKey=ATS&view=detail">JIRA Board</a></p>
        </div>

        <div class="col-md-8 image-cog">
            <h2>Test Case queueing</h2>

            <div class="">
                @using (Html.BeginForm("Upload2", "Home", FormMethod.Post, new { enctype = "multipart/form-data", test = Model }))
            {
                    @Html.Hidden("id", 0)
                    <p class="noMargin">418 A</p>
                        <table>
                            <tr>
                                <td colspan="3" id="statusA">*Loading*</td>
                            </tr>
                            <tr>
                                <td>Current( or last) Script:</td>
                                <td id="currentScriptA">*Loading*</td>
                                <td><input class="btn btn-test" type="button" title="Cancel" value="Cancel" onclick="location.href='@Url.Action("Cancel", "Home",new { id = 0 })'" /></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="file" name="file" multiple />
                                </td>
                                <td colspan="2"><input class="btn btn-test" type="submit" value="Queue Test Case" /></td>
                            </tr>
                        </table>
                }
                <p> </p>
                @using (Html.BeginForm("Upload2", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                    @Html.Hidden("id", 1)
                    <p>418 B</p>
                        <table>
                            <tr>
                                <td colspan="3" id="statusB">*Loading*</td>
                            </tr>
                            <tr>
                                <td>Current( or last) Script:</td>
                                <td id="currentScriptB">*Loading*</td>
                                <td><input class="btn btn-test" type="button" title="Cancel" value="Cancel" onclick="location.href='@Url.Action("Cancel", "Home",new { id = 1 })'" /></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="file" name="file" multiple />
                                </td>
                                <td colspan="2"><input class="btn btn-test" type="submit" value="Queue Test Case" /></td>
                            </tr>
                        </table>
                }
                <p> </p>
                @using (Html.BeginForm("Upload2", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                    @Html.Hidden("id", 2)
                    <p>419 A</p>
                        <table>
                            <tr><td colspan="3" id="statusA2">*Loading*</td></tr>
                            <tr>
                                <td>Current( or last) Script:</td>
                                <td id="currentScriptA2">*Loading*</td>
                                <td><input class="btn btn-test" type="button" title="Cancel" value="Cancel" onclick="location.href='@Url.Action("Cancel", "Home",new { id = 2 })'" /></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="file" name="file" multiple />
                                </td>
                                <td colspan="2"><input class="btn btn-test" type="submit" value="Queue Test Case" /></td>
                            </tr>
                        </table>
                }
                <p> </p>
                @using (Html.BeginForm("Upload2", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                    @Html.Hidden("id", 3)
                    <p>419 B</p>
                        <table>
                            <tr>
                                <td colspan="3" id="statusB2">*Loading*</td>
                            </tr>
                            <tr>
                                <td>Current( or last) Script:</td>
                                <td id="currentScriptB2">*Loading*</td>
                                <td><input class="btn btn-test" type="button" title="Cancel" value="Cancel" onclick="location.href='@Url.Action("Cancel", "Home",new { id = 3 })'" /></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="file" name="file" multiple />
                                </td>
                                <td colspan="2"><input class="btn btn-test" type="submit" value="Queue Test Case" /></td>
                            </tr>
                        </table>
                }
            </div>
        </div>

    </div>
</div>
